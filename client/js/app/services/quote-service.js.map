{"version":3,"sources":["../../../../development/js/app/services/quote-service.js"],"names":[],"mappings":";;AAAA,QAAQ,MAAR,CAAe,WAAf,EACK,OADL,CACa,cADb,EAC6B,CAAC,OAAD,EAAU,IAAV,EAAgB,iBAAhB,EAAmC,iBAAnC,EAAqD,iBAArD,EAAwE,UAAS,KAAT,EAAgB,EAAhB,EAAoB,eAApB,EAAqC,eAArC,EAAsD,eAAtD,EAAuE;;AAEpK,SAAK,KAAL,GAAa,UAAS,CAAT,EAAY;AACrB,YAAI,WAAW,GAAG,KAAH,EAAf;YACI,QAAQ,OAAO,CADnB;YAEI,aAAa,UAAU,KAF3B;;AAIA,cAAM,GAAN,CAAU,UAAV,EAAsB,IAAtB,CAA2B,UAAS,GAAT,EAAc;AACrC,kBAAM,gBAAgB,KAAhB,CAAsB,GAAtB,CAAN;AACA,4BAAgB,eAAhB,CAAgC,GAAhC;AACA,4BAAgB,kBAAhB,CAAmC,GAAnC;AACA,4BAAgB,oBAAhB,CAAqC,GAArC;;AAEA,qBAAS,OAAT,CAAiB;AACb,qBAAK;AADQ,aAAjB;AAGH,SATD,EASG,UAAS,GAAT,EAAc;AACb,oBAAQ,GAAR,CAAY,GAAZ;AACA,qBAAS,MAAT;AACH,SAZD;AAaA,eAAO,SAAS,OAAhB;AACH,KAnBD;AAoBH,CAtBwB,CAD7B","file":"quote-service.js","sourcesContent":["angular.module(\"GoldPulse\")\n    .service('QuoteService', ['$http', '$q', 'CleaningService', 'QuantileService','ColoringService', function($http, $q, CleaningService, QuantileService, ColoringService) {\n\n        this.fetch = function(m) {\n            var deferred = $q.defer(),\n                query = 'm=' + m,\n                requestUrl = '/api?' + query;\n\n            $http.get(requestUrl).then(function(res) {\n                res = CleaningService.clean(res);\n                QuantileService.setDataByMetric(res);\n                ColoringService.setQuartilesByDate(res);\n                ColoringService.setQuartilesByMetric(res);\n                \n                deferred.resolve({\n                    res: res\n                });\n            }, function(err) {\n                console.log(err);\n                deferred.reject();\n            });\n            return deferred.promise;\n        };\n    }]);"]}