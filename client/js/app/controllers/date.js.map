{"version":3,"sources":["../../../../development/js/app/controllers/date.js"],"names":[],"mappings":";;AAAA,QAAQ,MAAR,CAAe,WAAf,EACK,UADL,CACgB,UADhB,EAC4B,CAAC,QAAD,EAAW,OAAX,EAAoB,UAAS,MAAT,EAAiB,KAAjB,EAAwB;AAChE,QAAI,KAAJ;AACA,UAAM,GAAN,CAAU,QAAV,EAAoB,IAApB,CAAyB,UAAS,GAAT,EAAc;AACnC,gBAAQ,IAAI,IAAJ,CAAS,IAAjB;AACA,eAAO,GAAP,GAAa,MAAM,MAAN,CAAa,UAAS,GAAT,EAAc,IAAd,EAAoB;AAC1C,mBAAQ,KAAK,KAAL,CAAW,IAAX,IAAmB,KAAK,KAAL,CAAW,GAAX,CAApB,GAAuC,IAAvC,GAA8C,GAArD;AACH,SAFY,CAAb;AAGA,eAAO,GAAP,GAAa,MAAM,MAAN,CAAa,UAAS,GAAT,EAAc,IAAd,EAAoB;AAC1C,mBAAQ,KAAK,KAAL,CAAW,IAAX,IAAmB,KAAK,KAAL,CAAW,GAAX,CAApB,GAAuC,IAAvC,GAA8C,GAArD;AACH,SAFY,CAAb;AAGA,eAAO,OAAP,GAAiB,YAAjB;AACH,KATD;;AAWA,WAAO,MAAP,GAAgB,YAAW;AACvB,YAAI,YAAY,KAAK,KAAL,CAAW,KAAK,OAAhB,CAAhB;AACA,YAAI,CAAC,MAAM,SAAN,CAAL,EAAuB;AACnB,gBAAI,UAAU,MAAM,MAAN,CAAa,UAAS,EAAT,EAAa;AACpC,uBAAO,KAAK,KAAL,CAAW,EAAX,KAAkB,SAAzB;AACH,aAFa,EAEX,MAFW,CAGV,UAAS,GAAT,EAAc,IAAd,EAAoB;AAChB,oBAAI,QAAQ,KAAK,KAAL,CAAW,IAAX,IAAmB,SAA/B;oBACI,QAAQ,KAAK,KAAL,CAAW,GAAX,IAAkB,SAD9B;AAEA,uBAAQ,QAAQ,KAAT,GAAkB,IAAlB,GAAyB,GAAhC;AACH,aAPS,CAAd;AASA,iBAAK,OAAL,GAAe,OAAf;AACA,iBAAK,QAAL,CAAc,OAAd;AAEH,SAbD,MAcK;AACD,kBAAM,qDAAN;AACH;AACJ,KAnBD;AAoBH,CAjCuB,CAD5B","file":"date.js","sourcesContent":["angular.module('GoldPulse')\n    .controller('DateCtrl', ['$scope', '$http', function($scope, $http) {\n        var dates;\n        $http.get('/dates').then(function(res) {\n            dates = res.data.body;\n            $scope.max = dates.reduce(function(acc, curr) {\n                return (Date.parse(curr) > Date.parse(acc)) ? curr : acc;\n            });\n            $scope.min = dates.reduce(function(acc, curr) {\n                return (Date.parse(curr) < Date.parse(acc)) ? curr : acc;\n            });\n            $scope.dateStr = '2013-01-04';\n        });\n\n        $scope.submit = function() {\n            var timeStamp = Date.parse(this.dateStr);\n            if (!isNaN(timeStamp)) {\n                var closest = dates.filter(function(el) {\n                    return Date.parse(el) >= timeStamp;\n                }).reduce(\n                    function(acc, curr) {\n                        var diff1 = Date.parse(curr) - timeStamp,\n                            diff2 = Date.parse(acc) - timeStamp;\n                        return (diff1 < diff2) ? curr : acc;\n                    }\n                );\n                this.dateStr = closest;\n                this.generate(closest);\n\n            }\n            else {\n                alert(\"Please enter a valid date in the yyyy-mm-dd format!\");\n            }\n        };\n    }]);"]}